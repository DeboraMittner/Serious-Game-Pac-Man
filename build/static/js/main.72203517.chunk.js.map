{"version":3,"sources":["config/firebase-config.jsx","services/Session/context.jsx","services/Firebase/context.jsx","services/Firebase/firebase.jsx","services/Firebase/index.jsx","services/Session/withAuthentication.jsx","services/Session/withAuthorization.jsx","components/SignOut/SignOut.jsx","components/Navigation/Navigation.jsx","components/SignUpPage/SignUpPage.jsx","components/PasswordForgetForm/PasswordForgetForm.jsx","components/SignInPage/SignInPage.jsx","components/GamePage/Pacman/constants.js","components/GamePage/Pacman/state.js","components/GamePage/Pacman/game/tracks.js","components/GamePage/Pacman/game/movement.js","components/GamePage/Pacman/game/monster.js","components/GamePage/Pacman/game/player.js","components/GamePage/Pacman/game/index.js","components/GamePage/Pacman/grid/Line/index.js","components/GamePage/Pacman/Board/Walls/index.js","components/GamePage/Pacman/Board/index.js","components/GamePage/Pacman/Scores/index.js","components/GamePage/Pacman/helpers.js","components/GamePage/Pacman/Food/index.js","components/GamePage/Pacman/AllFood/index.js","components/GamePage/Pacman/Monster/index.js","components/GamePage/Pacman/Player/index.js","components/GamePage/Pacman/Pause/index.js","components/GamePage/Pacman/index.js","components/GamePage/Questions/index.js","components/GamePage/GamePage.js","components/GameDetailPage/GameDetailPage.jsx","components/ScoreBoardPage/ScoreBoardPage.jsx","components/DashboardPage/DashboardPage.jsx","components/PasswordChangeForm/PasswordChangeForm.jsx","components/AccountPage/AccountPage.jsx","components/CreateGamePage/QuizElement.jsx","components/CreateGamePage/CreateGamePage.jsx","App.js","serviceWorker.js","index.js"],"names":["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthUserContext","React","createContext","FirebaseContext","withFirebase","Component","props","Consumer","firebase","firebaseConfig","require","default","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","then","resp","db","collection","doc","user","uid","set","name","split","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","doDeleteUser","delete","doGetIdToken","getIdToken","addData","data","id","add","title","res","questions","forEach","question","answer","options","getGames","cb","games","get","querySnapshot","push","getQuestions","getAllQuestions","allQuestions","deleteGame","console","log","catch","error","getUserName","setScore","highscore","gameId","merge","getHighscoresByGameId","scores","fff","maxScores","reduce","b","a","i","findIndex","e","score","Math","max","initializeApp","this","firestore","withAuthentication","WithAuthentication","state","authUser","listener","onAuthStateChanged","setState","Provider","value","withAuthorization","condition","WithAuthorization","history","compose","withRouter","useStyles","makeStyles","theme","appBarButton","margin","spacing","color","classes","Button","onClick","variant","className","body","backgroundColor","palette","common","white","ul","padding","li","listStyle","appBar","background","boxShadow","toolbar","flexWrap","toolbarTitle","flexGrow","textDecoration","link","NavigationAuth","Fragment","CssBaseline","AppBar","position","elevation","Toolbar","Link","href","noWrap","SignOut","NavigationNonAuth","Navigation","paper","marginTop","shadows","borderRadius","display","flexDirection","alignItems","avatar","primary","main","INITIAL_STATE","passwordOne","passwordTwo","SignUpFormBase","onSubmit","event","target","preventDefault","onChange","location","username","isInvalid","form","Grid","container","item","xs","TextField","required","fullWidth","label","autoComplete","sm","type","disabled","submit","justify","message","SignUpLink","SignUpForm","withStyles","width","SignUpPage","Container","component","maxWidth","Avatar","Typography","PasswordForgetFormBase","root","placeholder","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","autoFocus","SignInForm","SignInPage","bg","MONSTER_HOME_RANGE","MONSTER_HOME_EXIT_COL","isBigFood","posX","posY","isAnswerFoodA","isAnswerFoodB","isAnswerFoodC","getInitialState","stepTime","Date","now","paused","answerA","answerC","direction","nextDirection","lives","startingDirection","startingPosition","deadTime","eatingTime","directionBias","genRow","startX","num","Array","fill","map","index","genDisparateRow","xPoints","genContinuousRow","ranges","items","genCol","startY","key","eaten","big","answerB","generateFood","gridDistance","posA","posB","abs","orderPolarity","order","polarity","plane","getNewPosition","speed","time","toNearestPlane","newPosition","slice","movedVector","movedDistance","nearestOtherPlane","round","track","tracks","trackHit","limits","collision","length","snapToTrack","tolerance","snap","ceil","floor","getNavigatedMonsterVector","monster","player","trackTo","Error","availableOptions","distanceFromTrack","passedTrack","find","start","end","filter","getAvailableMonsterRoutes","vectors","eating","optionPolarity","optionPlane","compare","sort","getAvailableVectors","lost","getNewMonsterVector","isHome","constants","getIsHome","getNextMonsterHomePosition","err","animateMonsters","monsters","lastState","monsterVector","newMonsters","animateMonster","getNewPlayerVector","changedVector","oldPosition","oldDirection","newDirection","oldPlane","old0","new0","movedDistanceBeforeTurn","newOrder","newPlane","getChangedVector","animatePlayer","newVector","eatenFoodIndex","food","getEatenFood","scoreDelta","lastPause","nextState","eatMonsters","collectEatenMonsterScores","newState","oldState","sum","getLinePart","radiusA","radiusB","path","lastDirection","distance","vertical","horizontal","reverse","vectorType","vector","line","base","cornerArcDiffX","cornerArcDiffY","cornerArc","cornerArcRadius","clockwise","diffX","diffY","getCornerArc","Line","gridSize","parts","startTransformed","getPoint","partRadius","radius","pathString","rest","lastRadius","join","pathProps","strokeWidth","stroke","d","Walls","lineProps","linesWalls","Object","keys","walls","transform","Board","boardWidth","boardHeight","height","x","y","Scores","gameOver","cssPosition","left","top","Food","classNames","style","AllFood","MonsterEye","offset","eyeballCenterX","eyeballCenterY","eyeballRadius","outerProps","cx","cy","irisProps","WaveMouth","waveRadius","yPos","mouthPath","getColor","eatingFlash","MonsterIcon","monsterPath","radiusSmall","getMonsterPath","marginLeft","Monster","timerFlash","getTimerFlash","clearInterval","setInterval","prevProps","pacmanPath","angle","offsetX","cos","offsetY","sin","m00","m01","biteX1","biteY1","biteX2","biteY2","arcFlag","PI","Player","timerBite","timerLose","startTime","clearTimeout","minWidth","fontSize","boox","Pause","Box","Dialog","open","DialogTitle","DialogContent","DialogContentText","DialogActions","resumeGameTime","Pacman","answerQuestion","checkAnswer","onKey","evt","changeDirection","pauseGame","timers","animate","startTimer","bind","resumeGame","setTimeout","step","window","addEventListener","removeEventListener","nextProps","gameStatus","timeSeconds","eatenFoods","foo","unEatAnswers","gotEatenProcedure","orderPolarityOld","orderPolarityNew","getStatus","resets","onEnd","otherProps","Questions","List","ListItem","ListItemIcon","SvgIcon","ListItemText","optionA","Divider","optionB","triangle","optionC","contextType","borderLeft","borderRight","borderBottom","GamePage","currentQuestion","correctAnswer","readyForGame","endScore","openDialog","lastQuestion","handleClose","closeGame","endGame","setNextQuestion","nextQuestion","startGame","context","sign","prompt","header","titel","gameTitle","div","playButton","textAlign","GameDetailPage","dialogOpen","md","ScoreBoardPage","openHighscore","highscores","DashboardPage","activeGame","pressedGame","fetchGames","fetchQuestions","handleOpen","gameOn","game","fetchHighscore","topten","playGame","button","createNewGame","float","PasswordChangeForm","optionAnswers","QuizElement","questionChange","questionIndex","optionChange","select","answerChange","helperText","optionAnswer","MenuItem","CreateGamePage","onQuestionChange","newQuestions","onAnswerChange","onOptionChange","handleChange","addDataa","addQuestion","noValidate","createTheme","secondary","ThemeProvider","exact","AccountPage","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.72203517.chunk.js","sourcesContent":["export default {\r\n    apiKey: \"AIzaSyCw1ZLybfkqQ9Ia_fD5iSo5Lz47-GYGtSQ\",\r\n    authDomain: \"pacman-auth.firebaseapp.com\",\r\n    projectId: \"pacman-auth\",\r\n    storageBucket: \"pacman-auth.appspot.com\",\r\n    messagingSenderId: \"77872117933\",\r\n    appId: \"1:77872117933:web:4489ae7a9c2e4e7bdc2e24\"\r\n  };\r\n  ","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React from 'react';\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n      {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = require(\"../../config/firebase-config\").default;\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    firebase.initializeApp(firebaseConfig);\r\n    this.auth = firebase.auth();\r\n    this.db = firebase.firestore();\r\n  }\r\n\r\n  // *** Auth API ***\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password).then((resp) => {\r\n      return this.db\r\n        .collection(\"users\")\r\n        .doc(resp.user.uid)\r\n        .set({\r\n          name: email.split(\"@\")[0],\r\n        });\r\n    });\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = (email) => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = (password) =>\r\n    this.auth.currentUser.updatePassword(password);\r\n\r\n  doDeleteUser = () => this.auth.currentUser.delete();\r\n\r\n  doGetIdToken = () => this.auth.currentUser.getIdToken();\r\n\r\n  // *** DB API ****\r\n  addData = (data) => {\r\n    let id = null;\r\n    this.db\r\n      .collection(\"game\")\r\n      .add({\r\n        title: data.title,\r\n      })\r\n      .then((res) => {\r\n        id = res.id;\r\n\r\n        data.questions.forEach((question) => {\r\n          this.db.collection(\"game\").doc(id).collection(\"questions\").add({\r\n            question: question.question,\r\n            answer: question.answer,\r\n            options: question.options,\r\n          });\r\n        });\r\n      });\r\n  };\r\n\r\n  getGames = (cb) => {\r\n    let games = [];\r\n    this.db\r\n      .collection(\"game\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          var data = doc.data();\r\n          var id = doc.id;\r\n          data = { ...data, id };\r\n          games.push(data);\r\n        });\r\n        cb(games);\r\n      });\r\n  };\r\n\r\n  getQuestions = (id, cb) => {\r\n    let questions = [];\r\n    this.db\r\n      .collection(\"game\")\r\n      .doc(id)\r\n      .collection(\"questions\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          var data = doc.data();\r\n          questions.push(data);\r\n        });\r\n        cb(questions);\r\n      });\r\n  };\r\n\r\n  getAllQuestions = (cb) => {\r\n    let allQuestions = [];\r\n    this.db\r\n      .collection(\"game\")\r\n      .doc()\r\n      .collection(\"questions\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          var data = doc.data();\r\n          allQuestions.push(data);\r\n        });\r\n        cb(allQuestions);\r\n      });\r\n  };\r\n\r\n  deleteGame = (id) => {\r\n    this.db\r\n      .collection(\"game\")\r\n      .doc(id)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  };\r\n\r\n  getUserName = (cb) => {\r\n    let currentUser = this.auth.currentUser.uid;\r\n    this.db\r\n      .collection(\"users\")\r\n      .doc(currentUser)\r\n      .get()\r\n      .then((doc) => {\r\n        cb(doc.data().name);\r\n      });\r\n  };\r\n\r\n  setScore = (highscore, gameId) => {\r\n    this.db\r\n      .collection(\"game\")\r\n      .doc(gameId)\r\n      .collection(\"scores\")\r\n      .add(highscore, { merge: true });\r\n    //this.db.collection(\"game\").doc(gameId).collection('scores').doc(highscore.name).set({score: highscore.score});\r\n  };\r\n\r\n  getHighscoresByGameId = (gameId, cb) => {\r\n    let highscore = [];\r\n    this.db\r\n      .collection(\"game\")\r\n      .doc(gameId)\r\n      .collection(\"scores\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let scores = [];\r\n        querySnapshot.forEach((fff) => {\r\n          scores.push(fff.data());\r\n        });\r\n\r\n        let maxScores = scores.reduce((b, a) => {\r\n          let i = b.findIndex((e) => e.user === a.user);\r\n          if (i > -1) b[i].score = Math.max(b[i].score, a.score);\r\n          else b.push(a);\r\n          return b;\r\n        }, []);\r\n        cb(maxScores);\r\n      });\r\n  };\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport AuthUserContext from './context';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        authUser: null,\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\r\n        authUser\r\n          ? this.setState({ authUser })\r\n          : this.setState({ authUser: null });\r\n      });\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n        this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n          authUser => {\r\n            if (!condition(authUser)) {\r\n              this.props.history.push('/signin');\r\n            }\r\n          },\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n         <AuthUserContext.Consumer>\r\n            {authUser =>\r\n                condition(authUser) ? <Component {...this.props} /> : null\r\n            }\r\n        </AuthUserContext.Consumer>);\r\n    }\r\n  }\r\n  \r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React from 'react';\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appBarButton: {\r\n    margin: theme.spacing(1, 1.5),\r\n    color: 'rgba(240, 46, 170, 0.4)'\r\n  }\r\n}));\r\n\r\nconst SignOutButton = function({ firebase }) {\r\n  const classes = useStyles();\r\n\r\n  return(\r\n  <Button onClick={firebase.doSignOut} variant=\"outlined\" className={classes.appBarButton}>\r\n  Sign Out\r\n</Button>\r\n)};\r\n\r\nexport default withFirebase(SignOutButton);","import React from 'react';\r\nimport { AuthUserContext } from '../../services/Session';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Linkk from '@material-ui/core/Link';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport SignOutButton from '../SignOut/SignOut';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n    ul: {\r\n      margin: 0,\r\n      padding: 0,\r\n    },\r\n    li: {\r\n      listStyle: 'none',\r\n    },\r\n  },\r\n  appBar: {\r\n    background: 'primary',\r\n    boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;'\r\n  },\r\n  toolbar: {\r\n    flexWrap: 'wrap'\r\n  },\r\n  toolbarTitle: {\r\n    flexGrow: 1,\r\n    textDecoration: 'none !important'\r\n  },\r\n  link: {\r\n    margin: theme.spacing(1, 1.5),\r\n    textDecoration: 'none !important'\r\n  }\r\n}));\r\n\r\nconst Navigation = () => (\r\n  <div>\r\n    <AuthUserContext.Consumer>\r\n      {authUser =>\r\n        authUser ? <NavigationAuth /> : <NavigationNonAuth />\r\n      }\r\n    </AuthUserContext.Consumer>\r\n  </div>\r\n);\r\n\r\nconst NavigationAuth = function(){\r\n  const classes = useStyles();\r\n\r\n  return(\r\n  <React.Fragment>\r\n  <CssBaseline />\r\n<AppBar position=\"static\" color=\"white\" elevation={0} className={classes.appBar}>\r\n<Toolbar className={classes.toolbar}>\r\n  <Linkk variant=\"h4\" color=\"rgba(240, 46, 170, 0.4)\" href=\"/\" noWrap className={classes.toolbarTitle}>\r\n    Pacman\r\n  </Linkk>\r\n  <nav>\r\n    <Linkk variant=\"button\" color=\"textPrimary\" href=\"/\" className={classes.link}>\r\n      Dashboard\r\n    </Linkk>\r\n    <Linkk variant=\"button\" color=\"textPrimary\" href=\"/account\" className={classes.link}>\r\n      Account\r\n    </Linkk>\r\n  </nav>\r\n  <SignOutButton />\r\n</Toolbar>\r\n</AppBar>\r\n</React.Fragment>\r\n)};\r\n\r\n\r\nconst NavigationNonAuth = function(){\r\n  const classes = useStyles();\r\n  \r\nreturn(\r\n  <React.Fragment>\r\n  <CssBaseline />\r\n<AppBar position=\"static\" color=\"white\" elevation={0} className={classes.appBar}>\r\n<Toolbar className={classes.toolbar}>\r\n  <Linkk variant=\"h4\" color=\"primary\" href=\"/\" noWrap className={classes.toolbarTitle}>\r\n      Pacman\r\n    </Linkk>\r\n  <Button href=\"/signin\" color=\"rgba(240, 46, 170, 0.4)\" variant=\"outlined\" className={classes.link}>\r\n    Sign In\r\n  </Button>\r\n  <Button href=\"/signup\" color=\"rgba(240, 46, 170, 0.4)\" variant=\"outlined\" className={classes.link}>\r\n    Sign Up\r\n  </Button>\r\n</Toolbar>\r\n</AppBar>\r\n</React.Fragment>\r\n)};\r\nexport default Navigation;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\n\r\nimport { withFirebase } from '../../services/Firebase';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(3),\r\n    boxShadow: theme.shadows[10],\r\n    borderRadius: '10px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n  }\r\n}));\r\n\r\nconst SignUpPage = function() {\r\n  const classes = useStyles();\r\n\r\n  return(\r\n    <React.Fragment>\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign Up\r\n        </Typography>\r\n    <SignUpForm />\r\n    </div>\r\n    </Container>\r\n  \r\n  </React.Fragment>\r\n)};\r\n\r\nconst styles = theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.location.state && this.props.location.state.username){\r\n      this.setState({email: this.props.location.state.username})\r\n    }\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const email = event.target.email.value;\r\n    const password = event.target.passwordOne.value;\r\n\r\n    if(email && password) {\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.props.history.push('/');\r\n        \r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n    }\r\n    event.preventDefault();\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { email, passwordOne, passwordTwo, error } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === '' ||\r\n      email === '' \r\n\r\n    return (\r\n      <React.Fragment>\r\n        <form className={classes.form} onSubmit={this.onSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Private Email Address\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={this.onChange}\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                name=\"passwordOne\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"passwordOne\"\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                value={passwordOne}\r\n                onChange={this.onChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                name=\"passwordTwo\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"passwordTwo\"\r\n                type=\"password\"\r\n                value={passwordTwo}\r\n                label=\"Confirm Password\"\r\n                onChange={this.onChange}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            disabled={isInvalid}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n        {error && <p>{error.message}</p>}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n  <Link href=\"/signup\" variant=\"body2\">{\"Don't have an account? Sign Up\"}</Link>\r\n);\r\n\r\nconst SignUpForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(withStyles(styles)(SignUpFormBase));\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };","import React, { Component } from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n})\r\n\r\nconst PasswordForgetPage = () => (\r\n  <div>\r\n    <h1>PasswordForget</h1>\r\n    <PasswordForgetForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { email, error } = this.state;\r\n    const isInvalid = email === '';\r\n    return (\r\n      <form className={classes.root} onSubmit={this.onSubmit}>\r\n        <TextField \r\n          name=\"email\"\r\n          value={this.state.email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <Button variant=\"outlined\" disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </Button>\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n  <Link href=\"/pwforget\" variant=\"body2\">Forgot password?</Link>\r\n);\r\n\r\nexport default (PasswordForgetPage);\r\n\r\nconst PasswordForgetForm = withStyles(styles)(withFirebase(PasswordForgetFormBase));\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { SignUpLink } from '../SignUpPage/SignUpPage';\r\nimport { PasswordForgetLink } from '../PasswordForgetForm/PasswordForgetForm';\r\nimport { withFirebase } from '../../services/Firebase';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(3),\r\n    boxShadow: theme.shadows[10],\r\n    borderRadius: '10px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nconst SignInPage = function() {\r\n  const classes = useStyles();\r\n\r\n  return(\r\n  <React.Fragment>\r\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.bg}>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n    <SignInForm />\r\n    </div>\r\n    </Container>\r\n  \r\n  </React.Fragment>\r\n\r\n)};\r\n\r\nconst styles = theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass SignInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: null };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const email = event.target.email.value;\r\n    const password = event.target.password.value;\r\n    //const { email, password } = this.state;\r\n    if(email && password) {\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ error: null });\r\n        this.props.history.push('/');\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n    }\r\n    event.preventDefault();\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { error } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n      <form className={classes.form} onSubmit={this.onSubmit}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Private Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n            <PasswordForgetLink />\r\n            </Grid>\r\n            <Grid item>\r\n            <SignUpLink />\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n        {error && <p>{error.message}</p>}\r\n    </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignInForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(withStyles(styles)(SignInFormBase));\r\n\r\nexport default SignInPage;\r\n\r\nexport { SignInForm };","export const EAST = 0;\nexport const NORTH = 1;\nexport const WEST = 2;\nexport const SOUTH = 3;\n\nexport const COMPASS = [EAST, NORTH, WEST, SOUTH];\n\nexport const BOARD_WIDTH = 28;\nexport const BOARD_HEIGHT = 36;\n\nexport const PLAYER_RADIUS = 0.8;\n\nexport const WALL_COLOUR = 'white';\n\nexport const EATING_TIME_SECONDS = 5;\n\nexport const MONSTER_SPEED_ATTACK = 6;\nexport const MONSTER_SPEED_RETREAT = 3;\nexport const PLAYER_SPEED = MONSTER_SPEED_ATTACK;\n\nexport const MONSTER_DEATH_TIME_SECONDS = 3;\nexport const MONSTER_HOME_RANGE = [17, 18, 8, 12];\nexport const MONSTER_HOME_EXIT_COL = 12.5;\n\n\n","import { EAST, NORTH, WEST } from './constants';\n\nfunction isBigFood([posX, posY]) {\n    return (posX === 0 || posX === 25) && (posY === 6 || posY === 26);\n}\n\nfunction isAnswerFoodA([posX, posY]) {\n    return (posX === 20 ) && (posY === 10 );\n}\nfunction isAnswerFoodB([posX, posY]) {\n    return (posX === 0) && (posY === 0);\n}\nfunction isAnswerFoodC([posX, posY]) {\n    return (posX === 10) && (posY === 28);\n}\n\nfunction generateFood() {\n    const genRow = (startX, posY, num) => new Array(num).fill(0)\n        .map((item, index) => ([startX + index, posY]));\n\n    const genDisparateRow = (xPoints, posY) => xPoints\n        .map(posX => ([posX, posY]));\n\n    const genContinuousRow = (ranges, posY) => ranges\n        .reduce((items, [startX, num]) => ([\n            ...items, ...genRow(startX, posY, num)\n        ]), []);\n\n    const genCol = (posX, startY, num) => new Array(num).fill(0)\n        .map((item, index) => ([posX, startY + index]));\n\n    return [\n        ...genRow(0, 0, 26),\n        ...genDisparateRow([0, 11, 14, 25], 1),\n        ...genDisparateRow([0, 11, 14, 25], 2),\n        ...genContinuousRow([[0, 6], [8, 4], [14, 4], [20, 6]], 3),\n        ...genDisparateRow([2, 5, 8, 17, 20, 23], 4),\n        ...genDisparateRow([2, 5, 8, 17, 20, 23], 5),\n        ...genContinuousRow([[0, 3], [5, 7], [14, 7], [23, 3]], 6),\n        ...genDisparateRow([0, 5, 11, 14, 20, 25], 7),\n        ...genDisparateRow([0, 5, 11, 14, 20, 25], 8),\n        ...genContinuousRow([[0, 12], [14, 12]], 9),\n        ...genCol(5, 10, 11),\n        ...genCol(20, 10, 11),\n        ...genContinuousRow([[0, 6], [8, 4], [14, 4], [20, 6]], 21),\n        ...genDisparateRow([0, 5, 8, 17, 20, 25], 22),\n        ...genDisparateRow([0, 5, 8, 17, 20, 25], 23),\n        ...genRow(0, 24, 26),\n        ...genDisparateRow([0, 5, 11, 14, 20, 25], 25),\n        ...genDisparateRow([0, 5, 11, 14, 20, 25], 26),\n        ...genDisparateRow([0, 5, 11, 14, 20, 25], 27),\n        ...genContinuousRow([[0, 12], [14, 12]], 28)\n    ]\n        .map((position, index) => ({\n            key: index,\n            position,\n            eaten: false,\n            big: isBigFood(position),\n            answerA: isAnswerFoodA(position),\n            answerB: isAnswerFoodB(position),\n            answerC: isAnswerFoodC(position),\n        }));\n}\n\nexport default function getInitialState() {\n    return {\n        stepTime: Date.now(),\n        paused: null,\n        answerA: '',\n        answerC: '',\n        answerC: '',\n        test: null,\n        score: 0,\n        lastPause: null,\n        player: {\n            position: [12.5, 6],\n            direction: EAST,\n            nextDirection: EAST,\n            lives: 3\n        },\n        lost: false,\n        monsters: [\n            {\n                id: 'monster-red',\n                direction: NORTH,\n                startingDirection: NORTH,\n                position: [12.5, 15],\n                startingPosition: [12.5, 15],\n                deadTime: 0,\n                eatingTime: 0,\n                color: 'red'\n            },\n            {\n                id: 'monster-cyan',\n                direction: EAST,\n                startingDirection: EAST,\n                position: [10.5, 15],\n                startingPosition: [10.5, 15],\n                deadTime: 0,\n                eatingTime: 0,\n                color: 'cyan',\n                directionBias: true\n            },\n            {\n                id: 'monster-orange',\n                direction: WEST,\n                startingDirection: WEST,\n                position: [14.5, 15],\n                startingPosition: [14.5, 15],\n                deadTime: 0,\n                eatingTime: 0,\n                color: 'darkorange'\n            },\n            {\n                id: 'monster-pink',\n                direction: NORTH,\n                startingDirection: NORTH,\n                position: [12.5, 17],\n                startingPosition: [12.5, 17],\n                deadTime: 0,\n                eatingTime: 0,\n                color: 'pink',\n                directionBias: true\n            }\n        ],\n        food: generateFood()\n    };\n}\n\n","/**\n * This defines ranges where Pacman can move, for each row and column of the game\n */\n\nexport default [\n    [\n        [[0, 25]], // first row (bottom)\n        [[0, 0], [11, 11], [14, 14], [25, 25]],\n        [[0, 0], [11, 11], [14, 14], [25, 25]],\n        [[0, 5], [8, 11], [14, 17], [20, 25]],\n        [[2, 2], [5, 5], [8, 8], [17, 17], [20, 20], [23, 23]],\n        [[2, 2], [5, 5], [8, 8], [17, 17], [20, 20], [23, 23]],\n        [[0, 2], [5, 20], [23, 25]],\n        [[0, 0], [5, 5], [11, 11], [14, 14], [20, 20], [25, 25]],\n        [[0, 0], [5, 5], [11, 11], [14, 14], [20, 20], [25, 25]],\n        [[0, 11], [14, 25]],\n        [[5, 5], [8, 8], [17, 17], [20, 20]],\n        [[5, 5], [8, 8], [17, 17], [20, 20]],\n        [[5, 5], [8, 17], [20, 20]],\n        [[5, 5], [8, 8], [17, 17], [20, 20]],\n        [[5, 5], [8, 8], [17, 17], [20, 20]],\n        [[-1, 8, true], [17, 26, true]],\n        [[5, 5], [8, 8], [17, 17], [20, 20]],\n        [[5, 5], [8, 8], [17, 17], [20, 20]],\n        [[5, 5], [8, 17], [20, 20]],\n        [[5, 5], [11, 11], [14, 14], [20, 20]],\n        [[5, 5], [11, 11], [14, 14], [20, 20]],\n        [[0, 5], [8, 11], [14, 17], [20, 25]],\n        [[0, 0], [5, 5], [8, 8], [17, 17], [20, 20], [25, 25]],\n        [[0, 0], [5, 5], [8, 8], [17, 17], [20, 20], [25, 25]],\n        [[0, 25]],\n        [[0, 0], [5, 5], [11, 11], [14, 14], [20, 20], [25, 25]],\n        [[0, 0], [5, 5], [11, 11], [14, 14], [20, 20], [25, 25]],\n        [[0, 0], [5, 5], [11, 11], [14, 14], [20, 20], [25, 25]],\n        [[0, 11], [14, 25]]\n    ],\n    [\n        [[0, 3], [6, 9], [15, 15], [21, 28]],\n        [[0, 0], [3, 3], [6, 6], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 6], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 3], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 3], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 28]],\n        [[0, 0], [6, 6], [9, 9], [15, 15], [24, 24], [28, 28]],\n        [[0, 0], [6, 6], [9, 9], [15, 15], [24, 24], [28, 28]],\n        [[0, 0], [3, 6], [9, 18], [21, 24], [28, 28]],\n        [[0, 0], [3, 3], [6, 6], [9, 9], [12, 12], [18, 18], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 3], [6, 6], [9, 9], [12, 12], [18, 18], [21, 21], [24, 24], [28, 28]],\n        [[0, 3], [6, 9], [12, 12], [18, 21], [24, 28]],\n        [[0, 0], [6, 6], [12, 12], [18, 18], [24, 24]],\n        [[0, 0], [6, 6], [12, 12], [18, 18], [24, 24]],\n        [[0, 3], [6, 9], [12, 12], [18, 21], [24, 28]],\n        [[0, 0], [3, 3], [6, 6], [9, 9], [12, 12], [18, 18], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 3], [6, 6], [9, 9], [12, 12], [18, 18], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 6], [9, 18], [21, 24], [28, 28]],\n        [[0, 0], [6, 6], [9, 9], [15, 15], [24, 24], [28, 28]],\n        [[0, 0], [6, 6], [9, 9], [15, 15], [24, 24], [28, 28]],\n        [[0, 0], [3, 28]],\n        [[0, 0], [3, 3], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 3], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 6], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 0], [3, 3], [6, 6], [9, 9], [15, 15], [21, 21], [24, 24], [28, 28]],\n        [[0, 3], [6, 9], [15, 15], [21, 28]]\n    ]\n];\n\n","import tracks from './tracks';\n\nexport function gridDistance(posA, posB) {\n    // The Pacman board is a kind of manhattan style map, with constraints\n    // due to walls\n\n    return Math.abs(posA[0] - posB[0]) + Math.abs(posA[1] - posB[1]);\n}\n\nexport function orderPolarity(direction) {\n    const order = (direction < 2) >> 0;\n    const polarity = (-1) ** (1 - order);\n    const plane = direction % 2;\n\n    return { order, polarity, plane };\n}\n\nexport function getNewPosition(position, direction, speed, time, toNearestPlane = true) {\n    const { order, plane, polarity } = orderPolarity(direction);\n\n    const newPosition = position.slice();\n    const movedVector = polarity * speed * time;\n    let movedDistance = Math.abs(movedVector);\n\n    const nearestOtherPlane = Math.round(newPosition[1 - plane]);\n    if (toNearestPlane) {\n        newPosition[1 - plane] = nearestOtherPlane;\n    }\n\n    newPosition[plane] += movedVector;\n\n    const track = tracks[plane][nearestOtherPlane];\n\n    const trackHit = track.findIndex(limits =>\n        position[plane] >= limits[0] &&\n        position[plane] <= limits[1] &&\n        polarity * newPosition[plane] > polarity * limits[order]\n    );\n\n    let collision = false;\n\n    if (trackHit === (track.length - 1) * order && track[trackHit][2]) {\n        // wrap\n        newPosition[plane] = track[(track.length - 1) * (1 - order)][1 - order];\n\n        movedDistance = speed * time;\n    }\n    else if (trackHit > -1) {\n        newPosition[plane] = track[trackHit][order];\n\n        movedDistance = Math.abs(position[plane] - track[trackHit][order]);\n\n        collision = true;\n    }\n\n    return { newPosition, collision, movedDistance };\n}\n\nexport function snapToTrack(plane, order, position, tolerance) {\n    const snap = order\n        ? Math.ceil(position[plane])\n        : Math.floor(position[plane]);\n\n    if (Math.abs(snap - position[plane]) > tolerance) {\n        return -1;\n    }\n\n    return snap;\n}\n\nexport function getChangedVector(oldPosition, newPosition, oldDirection, newDirection, movedDistance) {\n    const { plane: oldPlane, order: oldOrder } = orderPolarity(oldDirection);\n\n    const trackTo = snapToTrack(oldPlane, oldOrder, newPosition, movedDistance);\n    if (trackTo === -1) {\n        return null;\n    }\n\n    const old0 = oldPosition[oldPlane];\n    const new0 = newPosition[oldPlane];\n\n    const movedDistanceBeforeTurn = Math.abs(trackTo - newPosition[oldPlane]);\n\n    if (!(old0 === new0 && movedDistanceBeforeTurn > movedDistance)) {\n        const { order: newOrder, plane: newPlane, polarity } = orderPolarity(newDirection);\n\n        const track = tracks[newPlane][trackTo];\n        if (!track) {\n            return null;\n        }\n\n        const trackHit = track.findIndex(limits =>\n            newPosition[newPlane] >= limits[0] &&\n            newPosition[newPlane] <= limits[1] &&\n            (1 - newOrder) * newPosition[newPlane] >= (limits[0] - polarity) * (1 - newOrder) &&\n            newOrder * newPosition[newPlane] <= (limits[1] - polarity) * newOrder\n        );\n\n        if (trackHit > -1) {\n            const changedVector = newPosition.slice();\n\n            changedVector[oldPlane] = trackTo;\n            changedVector[newPlane] += polarity * (movedDistance - movedDistanceBeforeTurn);\n\n            return changedVector;\n        }\n    }\n\n    return null;\n}\n\n","import * as constants from '../constants';\nimport tracks from './tracks';\nimport { gridDistance, orderPolarity, getNewPosition, snapToTrack } from './movement';\n\nfunction getAvailableVectors({\n    newPosition,\n    plane,\n    trackTo,\n    distanceFromTrack,\n    movedDistance,\n    availableOptions,\n    player,\n    eating\n}) {\n    return availableOptions.map(direction => {\n        const { polarity: optionPolarity, plane: optionPlane } = orderPolarity(direction);\n\n        let position = null;\n        if (plane === optionPlane) {\n            position = newPosition;\n        }\n        else {\n            position = [];\n            position[optionPlane] = newPosition[optionPlane] +\n                Math.max(0, movedDistance - distanceFromTrack) * optionPolarity;\n\n            position[1 - optionPlane] = trackTo;\n        }\n\n        const compare = [];\n        compare[optionPlane] = newPosition[optionPlane] + optionPolarity;\n        compare[1 - optionPlane] = position[1 - optionPlane];\n\n        return { compare, position, direction };\n    })\n        .sort(({ compare: posA }, { compare: posB }) => (-1) ** (eating >> 0) * (\n            gridDistance(posA, player.position) - gridDistance(posB, player.position)\n        ))\n        .map(({ direction, position }) => ({ direction, position }));\n}\n\nfunction getNextMonsterHomePosition(newPosition, monster, player) {\n    if ((monster.direction === constants.EAST &&\n        monster.position[0] < constants.MONSTER_HOME_EXIT_COL &&\n        newPosition[0] >= constants.MONSTER_HOME_EXIT_COL) ||\n\n        (monster.direction === constants.WEST &&\n        monster.position[0] > constants.MONSTER_HOME_EXIT_COL &&\n        newPosition[0] <= constants.MONSTER_HOME_EXIT_COL)\n    ) {\n\n        return {\n            position: [constants.MONSTER_HOME_EXIT_COL, newPosition[1]],\n            direction: constants.NORTH\n        };\n    }\n    if (monster.direction === constants.NORTH &&\n        monster.position[1] < constants.MONSTER_HOME_RANGE[constants.NORTH] &&\n        newPosition[1] >= constants.MONSTER_HOME_RANGE[constants.NORTH]) {\n\n        return {\n            position: [newPosition[0], constants.MONSTER_HOME_RANGE[constants.NORTH]],\n            direction: !monster.directionBias && monster.position[0] < player.position[0]\n                ? constants.EAST\n                : constants.WEST\n        };\n    }\n\n    return { position: newPosition };\n}\n\nfunction getIsHome(monster) {\n    return monster.position[0] > constants.MONSTER_HOME_RANGE[constants.WEST] &&\n        monster.position[0] < constants.MONSTER_HOME_RANGE[constants.EAST] &&\n        monster.position[1] > constants.MONSTER_HOME_RANGE[constants.SOUTH] &&\n        monster.position[1] < constants.MONSTER_HOME_RANGE[constants.NORTH];\n}\n\nfunction getAvailableMonsterRoutes({ newPosition, collision, plane, trackTo, monster }) {\n    let availableOptions = [];\n    let distanceFromTrack = 0;\n\n    if (trackTo !== -1 && tracks[1 - plane][trackTo]) {\n        const passedTrack = tracks[1 - plane][trackTo]\n            .find(([start, end]) => newPosition[1 - plane] >= start &&\n                newPosition[1 - plane] <= end);\n\n        const options = [null, null];\n        if (passedTrack[0] < newPosition[1 - plane]) {\n            options[0] = plane === 0\n                ? constants.SOUTH\n                : constants.WEST;\n        }\n        if (passedTrack[1] > newPosition[1 - plane]) {\n            options[1] = plane === 0\n                ? constants.NORTH\n                : constants.EAST;\n        }\n\n        availableOptions = options.filter(item => item !== null);\n\n        distanceFromTrack = Math.abs(newPosition[plane] - trackTo);\n    }\n\n    if (!collision) {\n        availableOptions.push(monster.direction);\n    }\n\n    return { availableOptions, distanceFromTrack };\n}\n\nfunction getNavigatedMonsterVector(newPosition, collision, movedDistance, monster, player) {\n    // determine where to move a monster if it has a decision to make\n    const { order, plane } = orderPolarity(monster.direction);\n\n    const trackTo = snapToTrack(plane, order, newPosition, movedDistance);\n    if (trackTo === -1 && collision) {\n        throw new Error('Collided but nothing to track to');\n    }\n\n    const { availableOptions, distanceFromTrack } = getAvailableMonsterRoutes({\n        newPosition, collision, plane, trackTo, monster\n    });\n\n    if (!availableOptions.length) {\n        // this happens when wrapping\n\n        return { position: newPosition };\n    }\n\n    const vectors = getAvailableVectors({\n        newPosition,\n        plane,\n        trackTo,\n        distanceFromTrack,\n        movedDistance,\n        availableOptions,\n        player,\n        eating: monster.eatingTime > 0\n    });\n\n    const distanceFromPlayer = gridDistance(vectors[0].position, player.position);\n\n    if (distanceFromPlayer < constants.PLAYER_RADIUS * 1.8) {\n        if (monster.eatingTime) {\n            // monster got eaten\n\n            return { deadTime: constants.MONSTER_DEATH_TIME_SECONDS };\n        }\n\n        // player got eaten\n        return { lost: true };\n    }\n\n    return vectors[0];\n}\n\nfunction getNewMonsterVector(monster, player, time) {\n    if (monster.deadTime > time) {\n        return {\n            ...monster,\n            deadTime: monster.deadTime - time\n        };\n    }\n    if (monster.deadTime > 0) {\n        return {\n            ...monster,\n            deadTime: 0,\n            eatingTime: 0,\n            position: monster.startingPosition,\n            direction: monster.startingDirection\n        };\n    }\n\n    const eatingTime = Math.max(0, monster.eatingTime - time);\n\n    const isHome = getIsHome(monster);\n\n    const speed = monster.eatingTime\n        ? constants.MONSTER_SPEED_RETREAT\n        : constants.MONSTER_SPEED_ATTACK;\n\n    try {\n        const { newPosition, collision, movedDistance } = getNewPosition(\n            monster.position, monster.direction, speed, time, !isHome);\n\n        if (isHome) {\n            return getNextMonsterHomePosition(newPosition, monster, player);\n        }\n\n        return {\n            ...getNavigatedMonsterVector(newPosition, collision, movedDistance, monster, player),\n            eatingTime\n        };\n    }\n    catch (err) {\n        // wrapped or something\n\n        return {};\n    }\n}\n\nfunction animateMonster(state, time, player, monster, index) {\n    const { lost, ...monsterVector } = getNewMonsterVector(monster, player, time);\n\n    const newMonsters = state.monsters.slice();\n\n    newMonsters[index] = {\n        ...monster,\n        ...monsterVector\n    };\n\n    if (lost) {\n        return { ...state, lost: true };\n    }\n\n    return { ...state, monsters: newMonsters };\n}\n\nexport function animateMonsters(state, time, player) {\n    return state.monsters.reduce((lastState, monster, index) =>\n        animateMonster(lastState, time, player, monster, index), state);\n}\n\n","import { PLAYER_SPEED, EATING_TIME_SECONDS } from '../constants';\nimport { getNewPosition, getChangedVector, orderPolarity } from './movement';\n\nfunction getEatenFood(food, player, newPosition) {\n    const { plane, polarity } = orderPolarity(player.direction);\n\n    return food.findIndex(({ position, eaten }) => !eaten &&\n        position[1 - plane] === player.position[1 - plane] &&\n        polarity * position[plane] >= polarity * player.position[plane] &&\n        polarity * position[plane] <= polarity * newPosition[plane]\n    );\n}\n\nfunction getNewPlayerVector(player, time) {\n    try {\n        const { newPosition, movedDistance } = getNewPosition(player.position, player.direction,\n            PLAYER_SPEED, time);\n\n        if (player.nextDirection !== player.direction) {\n            const changedVector = getChangedVector(player.position, newPosition,\n                player.direction, player.nextDirection, movedDistance);\n\n            if (changedVector) {\n                return { position: changedVector, direction: player.nextDirection };\n            }\n        }\n\n        return { position: newPosition };\n    }\n    catch (err) {\n        // wrapped\n\n        return {};\n    }\n}\n\nfunction eatMonsters(state) {\n    return {\n        ...state,\n        monsters: state.monsters.map(monster => ({\n            ...monster,\n            eatingTime: EATING_TIME_SECONDS\n        }))\n    };\n}\n\nexport function animatePlayer(state, time) {\n    const newVector = getNewPlayerVector(state.player, time);\n    const eatenFoodIndex = getEatenFood(state.food, state.player, newVector.position);\n    const food = state.food.slice();\n    let scoreDelta = 0;\n    if (eatenFoodIndex > -1 && state.stepTime - state.lastPause > 50) {\n        food[eatenFoodIndex].eaten = true;\n        scoreDelta = 1 + (food[eatenFoodIndex].big >> 0);\n  \n    }\n\n    const eating = eatenFoodIndex > -1 && food[eatenFoodIndex].big;\n\n    const nextState = {\n        ...state,\n        score: state.score + scoreDelta,\n        player: {\n            ...state.player,\n            ...newVector\n        },\n        food\n    };\n\n    if (eating) {\n        return eatMonsters(nextState);\n    }\n\n    return nextState;\n}\n\n","import { orderPolarity } from './movement';\nimport { animateMonsters } from './monster';\nimport { animatePlayer } from './player';\n\nfunction collectEatenMonsterScores(newState, oldState) {\n    const scoreDelta = newState.monsters.reduce((sum, { deadTime }, index) =>\n        sum + 10 * ((deadTime > 0 && oldState.monsters[index].deadTime === 0) >> 0), 0);\n\n    return { ...newState, score: newState.score + scoreDelta };\n}\n\nexport function animate(state, { time = Date.now() } = {}) {\n    // get the next game state as a function of time\n\n    const timeSeconds = (time - state.stepTime) / 1000;\n\n    if (state.lost) {\n        return state;\n    }\n\n    const statePlayerAnimated = animatePlayer({ ...state, stepTime: time }, timeSeconds);\n\n    const stateMonstersAnimated = animateMonsters(statePlayerAnimated, timeSeconds, state.player);\n\n    const stateEatenMonsters = collectEatenMonsterScores(stateMonstersAnimated, state);\n\n    return stateEatenMonsters;\n}\n\nexport function changeDirection(state, { direction }) {\n    const orderPolarityOld = orderPolarity(state.player.direction);\n    const orderPolarityNew = orderPolarity(direction);\n\n    if (orderPolarityOld.plane === orderPolarityNew.plane) {\n        return {\n            ...state,\n            player: {\n                ...state.player,\n                direction,\n                nextDirection: direction\n            }\n        };\n    }\n\n    return {\n        ...state,\n        player: {\n            ...state.player,\n            nextDirection: direction\n        }\n    };\n}\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as constants from '../../constants';\n\nfunction getCornerArc(cornerArcRadius, clockwise, diffX, diffY) {\n    return `a${cornerArcRadius},${cornerArcRadius} 0 0 ${clockwise >> 0} ${diffX},${diffY}`;\n}\n\nconst pmod = (num, base) => ((num % base) + base) % base;\n\nfunction getLinePart({ radiusA, radiusB, path, lastDirection, distance, direction, index, end }) {\n    const vertical = direction % 2;\n    const horizontal = 1 - vertical;\n\n    const reverse = (-1) ** ((direction < 2) >> 0);\n    const polarity = (-1) ** vertical;\n\n    const vectorType = ['h', 'v'][vertical];\n\n    if (index === 0) {\n        const vector = (radiusB - distance) * reverse * polarity;\n        const line = `${vectorType}${vector}`;\n\n        return `${path} ${line}`;\n    }\n\n    const vector = (radiusA + radiusB * (!end >> 0) - distance) * reverse * polarity;\n    const line = `${vectorType}${vector}`;\n\n    const cornerArcDiffX = radiusA * (\n        (-1) ** ((lastDirection === constants.WEST) >> 0) * vertical - reverse * horizontal\n    );\n\n    const cornerArcDiffY = radiusA * (\n        (-1) ** ((lastDirection === constants.NORTH) >> 0) * horizontal + reverse * vertical\n    );\n\n    const clockwise = (pmod(lastDirection - direction, 4) === 1) >> 0;\n\n    const cornerArc = getCornerArc(radiusA, clockwise, cornerArcDiffX, cornerArcDiffY);\n\n    return `${path} ${cornerArc} ${line}`;\n}\n\nfunction getPoint([xValue, yValue], gridSize) {\n    return [xValue * gridSize, (constants.BOARD_HEIGHT - yValue) * gridSize];\n}\n\nexport default function Line({ gridSize, start, parts, ...props }) {\n    const startTransformed = getPoint(start, gridSize);\n\n    const partRadius = parts.map(({ radius }) => gridSize / (radius || 3));\n\n    const { path: pathString } = parts.map(({ distance, ...rest }) => ({\n        distance: distance * gridSize,\n        ...rest\n    }))\n        .reduce(({ path, lastDirection, lastRadius }, { distance, direction }, index) => ({\n            path: getLinePart({\n                radiusA: lastRadius,\n                radiusB: partRadius[index],\n                path,\n                lastDirection,\n                distance,\n                direction,\n                index,\n                end: index === parts.length - 1\n            }),\n            lastDirection: direction,\n            lastRadius: partRadius[index]\n        }), {\n            path: `M${startTransformed.join(',')}`\n        });\n\n    const pathProps = {\n        strokeWidth: props.strokeWidth,\n        stroke: props.stroke,\n        fill: props.fill\n    };\n\n    return (\n        <path d={pathString} {...pathProps} />\n    );\n}\n\nLine.propTypes = {\n    strokeWidth: PropTypes.number,\n    stroke: PropTypes.string,\n    fill: PropTypes.string,\n    gridSize: PropTypes.number.isRequired,\n    start: PropTypes.array.isRequired,\n    parts: PropTypes.array.isRequired\n};\n\n","import React from 'react';\nimport { WALL_COLOUR } from '../../constants';\nimport Line from '../../grid/Line';\nimport walls from './walls.json';\n\nexport default function Walls(props) {\n    const lineProps = {\n        strokeWidth: 1,\n        stroke: WALL_COLOUR,\n        fill: 'none'\n    };\n\n    const linesWalls = Object.keys(walls).map(key => {\n        const parts = walls[key].parts.map(([distance, direction, radius]) => ({ distance, direction, radius }));\n\n        return (\n            <Line key={key} {...props} {...lineProps}\n                start={walls[key].start} parts={parts} />\n        );\n    });\n\n    return (\n        <g className=\"walls\" transform=\"scale(1)\">\n            {linesWalls}\n        </g>\n\n    );\n}\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { BOARD_WIDTH, BOARD_HEIGHT } from '../constants';\nimport Walls from './Walls';\nimport './style.scss';\n\nexport default function Board(props) {\n    const { gridSize } = props;\n\n    const boardWidth = gridSize * BOARD_WIDTH;\n    const boardHeight = gridSize * BOARD_HEIGHT;\n\n    return (\n        <div className=\"pacman-board\">\n            <svg width={boardWidth} height={boardHeight}>\n                <rect x={0} y={0} width={boardWidth} height={boardHeight} fill=\"rgba(240, 46, 170, 0.4)\" />\n                <Walls {...props} />\n            </svg>\n        </div>\n    );\n}\n\nBoard.propTypes = {\n    gridSize: PropTypes.number.isRequired\n};\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './style.scss';\n\nexport default function Scores({ score, lost }) {\n    let gameOver = null;\n\n    if (lost) {\n        gameOver = (\n            <span className=\"game-over\">{'Game over!'}</span>\n        );\n    }\n\n    return (\n        <div className=\"pacman-scores\">\n            <span className=\"running-score\">\n                {'Score: '}{score}\n            </span>\n            {gameOver}\n        </div>\n    );\n}\n\nScores.propTypes = {\n    lost: PropTypes.bool.isRequired,\n    score: PropTypes.number.isRequired\n};\n\n","import { BOARD_HEIGHT } from './constants';\n\nexport function cssPosition(position, gridSize) {\n    return {\n        left: (position[0] + 1.5) * gridSize,\n        top: (BOARD_HEIGHT - position[1] - 3) * gridSize\n    };\n}\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { cssPosition } from '../helpers';\nimport './style.scss';\n\nexport default function Food({ gridSize, position, eaten, big, answerA, answerB, answerC }) {\n    const className = classNames('food', { eaten, big, answerA, answerB, answerC});\n\n    const style = cssPosition(position, gridSize);\n   \n\n    return (\n        <span className={className} style={style} />\n    );\n}\n\nFood.propTypes = {\n    gridSize: PropTypes.number.isRequired,\n    position: PropTypes.array.isRequired,\n    eaten: PropTypes.bool.isRequired,\n    big: PropTypes.bool.isRequired,\n    answerA: PropTypes.bool.isRequired,\n    answerB: PropTypes.bool.isRequired,\n    answerC: PropTypes.bool.isRequired,\n};\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Food from '../Food';\nimport './style.scss';\n\nexport default function AllFood({ food, ...props }) {\n    const items = food.filter(({ eaten }) => !eaten)\n        .map(({ key, ...item }) => (\n            <Food key={key} {...item} {...props} />\n        ));\n\n    return (\n        <div className=\"food-all\">\n            {items}\n        </div>\n    );\n}\n\nAllFood.propTypes = {\n    food: PropTypes.array.isRequired\n};\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { cssPosition } from '../helpers';\nimport './style.scss';\n\nfunction MonsterEye({ radius, offset, direction }) {\n    const eyeballCenterX = radius * (1 + 0.4 * offset);\n    const eyeballCenterY = radius * 0.7;\n    const eyeballRadius = radius * 0.3;\n\n    const reverse = (-1) ** ((direction < 2) >> 0);\n    const vertical = direction % 2;\n    const horizontal = 1 - vertical;\n\n    const irisOffsetX = -horizontal * reverse;\n    const irisOffsetY = vertical * reverse;\n\n    const outerProps = {\n        cx: eyeballCenterX,\n        cy: eyeballCenterY,\n        'r': eyeballRadius,\n        fill: 'white'\n    };\n\n    const irisProps = {\n        cx: eyeballCenterX + eyeballRadius / 2 * irisOffsetX,\n        cy: eyeballCenterY + eyeballRadius / 2 * irisOffsetY,\n        'r': eyeballRadius / 2,\n        fill: 'black'\n    };\n\n    return (\n        <g className=\"eye\">\n            <circle {...outerProps} />\n            <circle {...irisProps} />\n        </g>\n    );\n}\n\nMonsterEye.propTypes = {\n    radius: PropTypes.number.isRequired,\n    offset: PropTypes.number.isRequired,\n    direction: PropTypes.number.isRequired\n};\n\nfunction getMonsterPath(radius) {\n    const width = radius * 2;\n    const height = radius * 2;\n    const radiusSmall = radius / 5;\n\n    return [\n        `M${radius},0`,\n        `A${radius},${radius} 0 0 1 ${width},${radius}`,\n        `L${width},${height - radiusSmall}`,\n        `A${radiusSmall},${radiusSmall} 0 0 1 ${width - radiusSmall * 2},${height - radiusSmall}`,\n        `A${radiusSmall},${radiusSmall} 0 0 0 ${width - radiusSmall * 4},${height - radiusSmall}`,\n        `A${radiusSmall},${radiusSmall} 0 0 1 ${width - radiusSmall * 6},${height - radiusSmall}`,\n        `A${radiusSmall},${radiusSmall} 0 0 0 ${width - radiusSmall * 8},${height - radiusSmall}`,\n        `A${radiusSmall},${radiusSmall} 0 0 1 ${width - radiusSmall * 10},${height - radiusSmall}`,\n        `L0,${height - radiusSmall}`,\n        `L0,${radius}`,\n        `A${radius},${radius} 0 0 1 ${radius},0`\n    ]\n        .join(' ');\n}\n\nfunction WaveMouth({ gridSize, eating }) {\n    if (!eating) {\n        return null;\n    }\n\n    const waveRadius = gridSize * 0.125;\n    const yPos = gridSize * 0.95;\n\n    const mouthPath = [\n        `M${waveRadius * 2},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 1 ${3 * waveRadius},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 0 ${4 * waveRadius},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 1 ${5 * waveRadius},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 0 ${6 * waveRadius},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 1 ${7 * waveRadius},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 0 ${8 * waveRadius},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 1 ${9 * waveRadius},${yPos}`,\n        `A${waveRadius},${waveRadius * 5} 0 0 0 ${10 * waveRadius},${yPos}`\n    ]\n        .join(' ');\n\n    return (\n        <path d={mouthPath} stroke=\"white\" strokeWidth={1} />\n    );\n}\n\nWaveMouth.propTypes = {\n    gridSize: PropTypes.number.isRequired,\n    eating: PropTypes.bool.isRequired\n};\n\nfunction getColor(eating, eatingFlash, color) {\n    if (eating) {\n        if (eatingFlash) {\n            return '#c9a';\n        }\n\n        return '#06c';\n    }\n\n    return color;\n}\n\nfunction MonsterIcon({ gridSize, eating, eatingFlash, position, direction, color }) {\n    const radius = gridSize * 0.75;\n    const monsterPath = getMonsterPath(radius);\n    const pathProps = {\n        stroke: 'none',\n        fill: getColor(eating, eatingFlash, color)\n    };\n\n    const style = {\n        ...cssPosition(position, gridSize),\n        width: radius * 2,\n        height: radius * 2,\n        marginLeft: -radius,\n        marginTop: -radius\n    };\n\n    return (\n        <svg className=\"pacman-monster\" style={style}>\n            <path d={monsterPath} {...pathProps} />\n            <WaveMouth gridSize={gridSize} eating={eating} />\n            <MonsterEye radius={radius} direction={direction} offset={-1} />\n            <MonsterEye radius={radius} direction={direction} offset={1} />\n        </svg>\n    );\n}\n\nMonsterIcon.propTypes = {\n    eating: PropTypes.bool.isRequired,\n    eatingFlash: PropTypes.number,\n    gridSize: PropTypes.number.isRequired,\n    position: PropTypes.array.isRequired,\n    color: PropTypes.string.isRequired,\n    direction: PropTypes.number.isRequired\n};\n\nexport default class Monster extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            eatingFlash: 0,\n            timerFlash: this.getTimerFlash()\n        };\n    }\n    getTimerFlash() {\n        if (this.state) {\n            clearInterval(this.state.timerFlash);\n        }\n\n        if (!this.props.eatingTime) {\n            return null;\n        }\n\n        return setInterval(() => {\n            this.setState({ eatingFlash: (this.state.eatingFlash + 1) % 2 });\n        }, 500);\n    }\n    componentDidUpdate(prevProps) {\n        if ((this.props.eatingTime > 0 && prevProps.eatingTime === 0) ||\n            (this.props.eatingTime === 0 && prevProps.eatingTime > 0)) {\n\n            this.setState({ timerFlash: this.getTimerFlash() });\n        }\n    }\n    componentWillUnmount() {\n        clearInterval(this.state.timerFlash);\n    }\n    static propTypes = {\n        gridSize: PropTypes.number.isRequired,\n        position: PropTypes.array.isRequired,\n        direction: PropTypes.number.isRequired,\n        color: PropTypes.string.isRequired,\n        eatingTime: PropTypes.number.isRequired,\n        deadTime: PropTypes.number.isRequired\n    };\n    render() {\n        if (this.props.deadTime > 0) {\n            return null;\n        }\n\n        const { eatingTime, ...props } = this.props;\n        const eating = eatingTime > 0;\n\n        return (\n            <MonsterIcon eating={eating} {...props} {...this.state} />\n        );\n    }\n}\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { PLAYER_RADIUS } from '../constants';\nimport { cssPosition } from '../helpers';\nimport './style.scss';\n\nconst ANIMATION_SPEED = 60;\n\nfunction pacmanPath(radius, angle, offset) {\n    if (!angle) {\n        return [\n            `M0,${radius}`,\n            `A${radius},${radius} 0 1 0 ${radius * 2},${radius}`,\n            `A${radius},${radius} 0 1 0 0,${radius}`\n        ]\n            .join(' ');\n    }\n\n    const offsetX = radius * Math.cos(angle / 2);\n    const offsetY = radius * Math.sin(angle / 2);\n\n    const polarity = (-1) ** Math.floor(offset / 2);\n\n    const m00 = ((offset + 1) % 2) * polarity;\n    const m01 = (offset % 2) * polarity;\n\n    const biteX1 = offsetX * m00 - offsetY * m01;\n    const biteY1 = -offsetX * m01 - offsetY * m00;\n    const biteX2 = offsetX * m00 + offsetY * m01;\n    const biteY2 = -offsetX * m01 + offsetY * m00;\n\n    const arcFlag = (angle < Math.PI) >> 0;\n\n    return [\n        `M${radius},${radius}`,\n        `L${radius + biteX1},${radius + biteY1}`,\n        `A${radius},${radius}`,\n        `0 ${arcFlag} 0`,\n        `${radius + biteX2},${radius + biteY2}`,\n        `L${radius},${radius}`\n    ]\n        .join(' ');\n}\n\nexport default class Player extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            angle: 1,\n            timerBite: null,\n            timerLose: null\n        };\n\n        this.startTime = Date.now();\n    }\n    componentDidMount() {\n        this.setState({\n            timerBite: setInterval(() => this.setState({\n                angle: 1 + 0.5 * Math.sin((Date.now() - this.startTime) / 50)\n            }), ANIMATION_SPEED)\n        });\n    }\n    componentWillUnmount() {\n        clearInterval(this.state.timerBite);\n        clearTimeout(this.state.timerLose);\n    }\n    onLoseAnimation() {\n        return null;\n    }\n\n    render() {\n        const { gridSize, lost, position, direction } = this.props;\n\n        const pathProps = {\n            stroke: 'none',\n            fill: 'yellow'\n        };\n\n        const radius = gridSize * PLAYER_RADIUS;\n\n        const style = {\n            ...cssPosition(position, gridSize),\n            width: radius * 6,\n            height: radius * 6,\n            marginLeft: -radius,\n            marginTop: -radius\n        };\n\n        const offset = lost\n            ? 1\n            : direction;\n\n        return (\n            <svg className=\"pacman-player\" style={style}>\n                <path d={pacmanPath(radius, this.state.angle, offset)} {...pathProps} />\n            </svg>\n        );\n    }\n}\n\nPlayer.propTypes = {\n    animate: PropTypes.bool,\n    gridSize: PropTypes.number.isRequired,\n    lost: PropTypes.bool.isRequired,\n    position: PropTypes.array.isRequired,\n    direction: PropTypes.number.isRequired,\n    onEnd: PropTypes.func\n};\n\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  boox: {\r\n    borderRadius: '10px',\r\n    padding: '1.5em',\r\n    boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;'\r\n  },\r\n});\r\n\r\nexport default function Pause(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box boxShadow={3} className={classes.boox}>\r\n      <Dialog\r\n        open={props.paused}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Pause</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Let Google help apps determine location. This means sending anonymous location data to\r\n            Google, even when no apps are running.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button  onClick={props.resumeGameTime} color=\"primary\">\r\n          Continue\r\n          </Button>\r\n          <Button href=\"/\" color=\"primary\" color=\"primary\">\r\n          Back to Menu\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { EAST, NORTH, WEST, SOUTH } from \"./constants\";\nimport getInitialState from \"./state\";\nimport { animate, changeDirection } from \"./game\";\nimport Board from \"./Board\";\nimport Scores from \"./Scores\";\nimport AllFood from \"./AllFood\";\nimport Monster from \"./Monster\";\nimport Player from \"./Player\";\nimport Pause from \"./Pause\";\nimport \"./style.scss\";\nimport { withFirebase } from \"../../../services/Firebase\";\n\nclass Pacman extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = getInitialState();\n\n    this.onKey = (evt) => {\n      if (evt.key === \"ArrowRight\") {\n        return this.changeDirection(EAST);\n      }\n      if (evt.key === \"ArrowUp\") {\n        return this.changeDirection(NORTH);\n      }\n      if (evt.key === \"ArrowLeft\") {\n        return this.changeDirection(WEST);\n      }\n      if (evt.key === \"ArrowDown\") {\n        return this.changeDirection(SOUTH);\n      }\n      if (evt.key === \"Escape\") {\n        return this.pauseGame();\n      }\n      return null;\n    };\n\n    this.timers = {\n      start: null,\n      animate: null,\n    };\n    this.startTimer = this.startTimer.bind(this);\n    this.resumeGame = this.resumeGame.bind(this);\n    this.answerQuestion = this.answerQuestion.bind(this);\n  }\n\n  startTimer() {\n    this.timers.start = setTimeout(() => {\n      this.setState({ stepTime: Date.now(), lastPause: Date.now() });\n\n      this.step();\n    }, 3000);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onKey);\n    this.startTimer();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKey);\n\n    clearTimeout(this.timers.start);\n    clearTimeout(this.timers.animate);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.gameStatus && nextProps.gameStatus == \"continue\") {\n      this.resumeGame();\n    }\n  }\n\n  step() {\n    let newState = animate(this.state);\n    this.setState(newState);\n    let eatenFoods = this.state.food.filter(\n      (foo) => (foo.answerA || foo.answerB || foo.answerC) && foo.eaten\n    );\n    clearTimeout(this.timers.animate);\n    if (eatenFoods.length > 0) {\n      this.answerQuestion(eatenFoods[0].key);\n      let unEatAnswers = this.state.food.map((foo) => {\n        if (foo.answerA || foo.answerB || foo.answerC) {\n          foo.eaten = false;\n          return foo;\n        } else {\n          return foo;\n        }\n      });\n      this.setState({\n        food: unEatAnswers,\n      });\n    } else {\n      if(!this.state.lost) {\n        this.timers.animate = setTimeout(() => this.step(), 20);\n      }\n    }\n\n    if (this.state.lost) {\n      this.gotEatenProcedure();\n    }\n  }\n\n  gotEatenProcedure() {\n    let newState = getInitialState();\n    if(this.state.score < 50){\n      newState.score = 0\n    }\n    else{ \n      newState.score = this.state.score - 50;\n    }\n    newState.food = this.state.food;\n    this.setState(newState);\n    clearTimeout(this.timers.animate);\n    this.resumeGame();\n  }\n  changeDirection(direction) {\n    this.setState(changeDirection(this.state, { direction }));\n  }\n\n  pauseGame() {\n    clearTimeout(this.timers.start);\n    clearTimeout(this.timers.animate);\n    this.setState({\n      paused: true,\n    });\n  }\n\n  resumeGame() {\n    this.startTimer();\n    this.setState({\n      paused: false,\n    });\n  }\n\n  checkGameStatus(key) {\n    let status = this.props.getStatus();\n    if (status == \"continue\") {\n      setTimeout(() => {\n        let resets = [...this.state.food];\n        resets[key].eaten = false;\n\n        this.setState({\n          food: resets,\n        });\n      }, 2000);\n      this.startTimer();\n    } else {\n    }\n  }\n\n  answerQuestion = (key) => {\n    let answer = \"\";\n    switch (key) {\n      case 133:\n        answer = \"optionA\";\n        break;\n\n      case 0:\n        answer = \"optionB\";\n        break;\n\n      case 230:\n        answer = \"optionC\";\n        break;\n\n      default:\n        console.log(\"No answer\");\n    }\n    //pausieren\n    this.props.checkAnswer(answer, this.state.score);\n    /*this.setState({\n  lastPause: Date.now()\n})*/\n  };\n\n  render() {\n    const { onEnd, ...otherProps } = this.props;\n    const props = { gridSize: 20, ...otherProps };\n    const monsters = this.state.monsters.map(({ id, ...monster }) => (\n      <Monster key={id} {...props} {...monster} />\n    ));\n\n    return (\n      <div className=\"pacman\">\n        <Board {...props} />\n        <Scores score={this.state.score} lost={this.state.lost} />\n        <AllFood {...props} food={this.state.food} />\n        {monsters}\n        <Player\n          {...props}\n          {...this.state.player}\n          lost={this.state.lost}\n          onEnd={onEnd}\n        />\n        {this.state.paused && (\n          <Pause paused={this.state.paused} resumeGameTime={this.resumeGame} />\n        )}\n      </div>\n    );\n  }\n}\n\nPacman.propTypes = {\n  gridSize: PropTypes.number.isRequired,\n  onEnd: PropTypes.func,\n};\n\nexport default withFirebase(Pacman);\n","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../../services/Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../../services/Session';\r\n\r\nimport { List, ListItem, ListItemText, ListItemIcon, Grid, Divider } from '@material-ui/core';\r\nimport ChangeHistoryIcon from '@material-ui/icons/ChangeHistory';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\nimport LensIcon from '@material-ui/icons/Lens';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n  triangle: {\r\n    width: \"0\", \r\n    height: \"0\", \r\n    background: \"rgb(82, 24, 148)\",\r\n    borderLeft: \"10px solid white\",\r\n    borderRight: \"10px solid white\",\r\n    borderBottom: \"20px solid #31A8F5\",\r\n\r\n\r\n\r\n  }\r\n});\r\n\r\nclass Questions extends Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n}\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    \r\n    return (\r\n  <Grid container spacing={2}>\r\n      <Grid item xs={12} >\r\n      <Typography variant=\"h4\" >\r\n            Question:\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} >\r\n        <Typography variant=\"h6\" >\r\n        {this.props.question.question}\r\n          </Typography>\r\n    \r\n       </Grid>\r\n\r\n       <Grid item xs={12} >\r\n       <Typography variant=\"h4\" >\r\n            Options:\r\n          </Typography>\r\n       </Grid>\r\n       <Grid item xs={12} >\r\n       <List>\r\n                <ListItem>\r\n                <ListItemIcon>\r\n                <SvgIcon width=\"200\" height=\"250\">\r\n                <rect x=\"5\" y=\"5\" width=\"15\" height=\"15\" stroke=\"red\" fill=\"red\" stroke-width=\"2\"/>\r\n  </SvgIcon>\r\n        </ListItemIcon>\r\n                  <ListItemText\r\n                    primary={this.props.question.options.optionA}  />\r\n                </ListItem>\r\n                <Divider variant=\"inset\" component=\"li\" />\r\n                <ListItem>\r\n                <ListItemIcon>\r\n          <LensIcon style={{ color: 'green' }} />\r\n        </ListItemIcon>\r\n                  <ListItemText\r\n                    primary={this.props.question.options.optionB} />\r\n                </ListItem>\r\n                <Divider variant=\"inset\" component=\"li\" />\r\n                <ListItem>\r\n                <ListItemIcon>\r\n               <ChangeHistoryIcon className={classes.triangle} style={{ color: 'blue'}} />\r\n        </ListItemIcon>\r\n                  <ListItemText\r\n                    primary={this.props.question.options.optionC}  />\r\n                </ListItem>\r\n            </List>\r\n         </Grid>\r\n\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withStyles(styles)((withFirebase(Questions)));\r\n","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../services/Session';\r\n\r\nimport { Button, CssBaseline, Grid, Box, Container, Dialog, DialogContent, DialogTitle, DialogActions, DialogContentText } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Pacman from './Pacman'\r\nimport Questions from './Questions'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n      },\r\n  boox: {\r\n    background: theme.palette.background.paper,\r\n    borderRadius: '10px',\r\n    padding: '1.5em',\r\n    margin: theme.spacing(3),\r\n    boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;'\r\n  },\r\n  header: {\r\n    marginTop: '20px'\r\n  },\r\n  titel: {\r\n      color: 'white',\r\n      textAlign: 'center'\r\n\r\n  },\r\n  playButton: {\r\n    background: 'white',\r\n    boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;',\r\n    padding: '1.5em',\r\n    '&:hover': {\r\n      background: 'rgba(240, 46, 170, 0.4)'\r\n    }\r\n  },\r\n  div: {\r\n    textAlign: 'center',\r\n  }\r\n});\r\n\r\n\r\nclass GamePage extends Component {\r\n  static contextType = AuthUserContext;\r\n\r\nstate = {\r\n  currentQuestion: 0,\r\n  correctAnswer: false,\r\n  readyForGame: false,\r\n  endScore: 0,\r\n  openDialog: false,\r\n  lastQuestion: false,\r\n  gameStatus: '',\r\n\r\n}\r\n  constructor(props) {\r\n    super(props);\r\n}\r\n\r\n\r\n\r\ncheckAnswer = (answer, score) => {\r\n  this.setState({gameStatus: 'paused'})\r\nif(this.props.question[this.state.currentQuestion].answer == answer){\r\n  this.setState({\r\n    correctAnswer: true,\r\n    endScore: score + 100,\r\n  })\r\n}else{\r\n  this.setState({\r\n    correctAnswer: false,\r\n  })\r\n}\r\nthis.setState({\r\n  openDialog: true\r\n})\r\n}\r\n\r\nhandleClose = () => {\r\n  if(!this.state.lastQuestion) {\r\n    this.setNextQuestion();\r\n  } else {\r\n    this.props.closeGame()\r\n    this.endGame() // TODO\r\n  }\r\n};\r\n\r\nsetNextQuestion = () => {\r\n  if(this.state.currentQuestion === this.props.question.length-1){\r\n    this.setState({lastQuestion: true}) // keep dialog open\r\n  }else{\r\n    let nextQuestion = this.state.currentQuestion + 1\r\n    this.setState({\r\n      currentQuestion: nextQuestion,\r\n      gameStatus: 'continue',\r\n      openDialog: false // close dialog so game can continue\r\n    })}\r\n}\r\n\r\nstartGame = () => {\r\n  this.setState({\r\n    ...this.state,\r\n    readyForGame: true\r\n  })\r\n}\r\nendGame = () => {\r\n  this.setState({gameStatus: 'end'})\r\n  this.setScore()\r\n}\r\n\r\ngetStatus = () => {\r\n  return this.state.gameStatus\r\n}\r\n\r\nsetScore = () =>{\r\n  let user = this.context;\r\n\r\n  let highscore = {\r\n    user: 'dummy',\r\n    score: this.state.endScore,\r\n  }\r\n\r\n  if(user) {\r\n    this.props.firebase.getUserName((name) => {\r\n      highscore.user = name;\r\n    })\r\n  } else {\r\n    let sign = prompt(\"Enter your player name for your highscore:\");\r\n    highscore.user = sign;\r\n  }\r\n\r\n  /**/\r\n  this.props.firebase.setScore(highscore, this.props.gameId);\r\n}\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <CssBaseline />\r\n      <Container>\r\n <div className={classes.root}>\r\n          <Grid container spacing={3}>\r\n              <Grid item xs={12} className={classes.header}>\r\n        <h1 className={classes.titel}>Game: {this.props.gameTitle}</h1>\r\n        </Grid>\r\n\r\n      <Grid item xs={12} sm={8}>\r\n {this.state.readyForGame ? <Pacman checkAnswer={this.checkAnswer} gameStatus={this.state.gameStatus} /> : <div className={classes.div}> <Box boxShadow={3} className={classes.boox}><div><h1>Welcome </h1><p>Answer the questions on the right hand side by by moving through the maze to the right symbols. Don't get caught by the ghosts! </p><p>Good Luck!</p></div>  </Box><Button className={classes.playButton} type=\"button\" onClick={() => this.startGame()}>Play Game</Button></div>}\r\n  </Grid>\r\n  <Grid item xs={12} sm={4}>\r\n  <Box boxShadow={3} className={classes.boox}>\r\n {this.props.question.length > 0 && <Questions question={this.props.question[this.state.currentQuestion]}/>}\r\n  </Box>\r\n  </Grid>\r\n  {this.props.question.length > 0 &&\r\n  <Dialog\r\n        open={this.state.openDialog}\r\n        //onClose={this.handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{this.state.lastQuestion ? 'Congratulations!' : 'Your answer is: ' +(this.state.correctAnswer ? \"Correct\" : \"Wrong\")}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n          {this.state.lastQuestion ? <p>You completed the quiz. Your final score is: {this.state.endScore}</p> :  <p> The answer is: {this.props.question[this.state.currentQuestion].answer}</p> }\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleClose} color=\"primary\">\r\n            {this.state.lastQuestion ? <p>close</p> : <p>Next Question</p>}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog> }\r\n      </Grid>\r\n      </div>\r\n      </Container>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n    \r\n\r\n  \r\n  }\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withStyles(styles)((withFirebase(GamePage)));","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../services/Session';\r\nimport {Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Grid, List, ListItem, ListItemText, Divider } from '@material-ui/core';\r\nimport { Button } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst styles = theme => ({\r\n\r\n});\r\n\r\n\r\nclass GameDetailPage extends Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n}\r\n\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n      open={this.props.dialogOpen}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">Game: {this.props.gameTitle}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n        <Grid container spacing={2}>\r\n          {this.props.questions.map((question) =>(\r\n                    <Grid item xs={12} md={12}>\r\n                    <List>\r\n                        <ListItem>\r\n                          <ListItemText\r\n                            primary={'Question: ' + question.question}\r\n                          />\r\n                        </ListItem>\r\n                        <Divider variant=\"inset\" component=\"li\" />\r\n                    <ListItem>\r\n                          <ListItemText\r\n                            primary={'Option A: ' + question.options.optionA}\r\n                          />\r\n                        </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                        <ListItem>\r\n                          <ListItemText\r\n                            primary={'Option B: ' + question.options.optionB}\r\n                          />\r\n                        </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                        <ListItem>\r\n                          <ListItemText\r\n                            primary={'Option C: ' + question.options.optionC}\r\n                          />\r\n                        </ListItem>\r\n                        <Divider variant=\"inset\" component=\"li\" />\r\n                        <ListItem>\r\n                          <ListItemText\r\n                             primary={'Answer: ' + question.answer}\r\n                          />\r\n                        </ListItem>\r\n                    </List>\r\n                </Grid>\r\n          ))}\r\n\r\n        </Grid>\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={this.props.handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withStyles(styles)((withFirebase(GameDetailPage)));","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../services/Session';\r\nimport {Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Grid, List, ListItem, ListItemText, Divider } from '@material-ui/core';\r\nimport { Button } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\n\r\nclass ScoreBoardPage extends Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n}\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n      open={this.props.openHighscore}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">Highscore for Game: {this.props.gameTitle}</DialogTitle>\r\n   <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n        {this.props.highscores.length > 0 ? \r\n        <Grid container spacing={2}>\r\n          {this.props.highscores.map((highscore) =>(\r\n                    <Grid item xs={12} md={12}>\r\n                    <List>\r\n                        <ListItem>\r\n                          <ListItemText\r\n                            primary={'Name: ' + highscore.user}\r\n                          />\r\n                        </ListItem>\r\n                        <Divider variant=\"inset\" component=\"li\" />\r\n                    <ListItem>\r\n                          <ListItemText\r\n                            primary={'Score: ' + highscore.score}\r\n                          />\r\n                        </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                    </List>\r\n                </Grid>\r\n          ))}\r\n\r\n        </Grid> : <p>No Highscore</p> }\r\n        </DialogContentText>\r\n      </DialogContent> \r\n      <DialogActions>\r\n        <Button onClick={this.props.handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default ((withFirebase(ScoreBoardPage)));","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withAuthentication, AuthUserContext } from '../../services/Session';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Box from '@material-ui/core/Box';\r\nimport { Button, CssBaseline, } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport GamePage from '../GamePage/GamePage';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport GameDetailPage from '../GameDetailPage/GameDetailPage';\r\nimport ScoreBoardPage from '../ScoreBoardPage/ScoreBoardPage';\r\n\r\nconst styles = theme => ({\r\n  boox: {\r\n    background: theme.palette.background.paper,\r\n    borderRadius: '10px',\r\n    padding: '1.5em',\r\n    margin: theme.spacing(4),\r\n    boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;'\r\n  },\r\n  button: {\r\n    float: 'right',\r\n\r\n  },\r\n  playButton: {\r\n    color: 'rgba(240, 46, 170, 0.4)',\r\n    marginLeft: theme.spacing(4),\r\n  },\r\n  createNewGame: {\r\n    marginTop: '1.5em',\r\n    background: 'white',\r\n    boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;',\r\n    padding: '1.5em',\r\n    '&:hover': {\r\n      background: 'rgba(240, 46, 170, 0.4)'\r\n    }\r\n  },\r\n  div: {\r\n    textAlign: 'center',\r\n  }\r\n});\r\n\r\n\r\nclass DashboardPage extends Component {\r\n  static contextType = AuthUserContext;\r\n\r\nstate = {\r\n  games: [],\r\n  activeGame: false,\r\n  questions: [],\r\n  dialogOpen: false,\r\n  pressedGame: null,\r\n  gameTitle: null,\r\n  openHighscore: false,\r\n  highscores: []\r\n\r\n}\r\n  constructor(props) {\r\n    super(props);\r\n}\r\n componentDidMount(){\r\n  this.fetchGames();\r\n}\r\n\r\nfetchGames = () => {\r\n  this.props.firebase.getGames((games) => {\r\n    this.setState({games: games})\r\n  });\r\n}\r\n\r\nfetchQuestions = (id) => {\r\n  this.props.firebase.getQuestions(id, (questions) => {\r\n  this.setState({questions: questions})\r\n});\r\n}\r\n\r\nhandleClose = () => {\r\n  this.setState({\r\n    dialogOpen: false,\r\n    openHighscore: false})\r\n};\r\n\r\nhandleOpen = (id) => {\r\n  let gameOn = this.state.games.filter((game) => game.id == id)[0];\r\n\r\n  this.setState({\r\n    ...this.state,\r\n    gameTitle: gameOn.title,\r\n    dialogOpen: true\r\n  })\r\n\r\n  this.fetchQuestions(gameOn.id)\r\n}\r\n\r\nopenHighscore = (id) => {\r\n  let gameOn = this.state.games.filter((game) => game.id == id)[0];\r\n\r\n  this.setState({\r\n    ...this.state,\r\n    gameTitle: gameOn.title,\r\n    openHighscore: true\r\n  })\r\n\r\n  this.fetchHighscore(gameOn.id)\r\n}\r\n\r\nfetchHighscore = (id) => {\r\n      this.props.firebase.getHighscoresByGameId(id, (res) => {\r\n          res.sort((a, b) => {\r\n            return b.score - a.score\r\n          });\r\n          let topten = res.slice(0,2);\r\n          this.setState({\r\n              highscores: topten\r\n          })\r\n        })}\r\n  \r\ndeleteGame = (id) => {\r\n this.props.firebase.deleteGame(id);\r\n this.fetchGames();\r\n}\r\n\r\nplayGame = (id) => {\r\n  let gameOn = this.state.games.filter((game) => game.id == id)[0];\r\n  this.fetchQuestions(gameOn.id)\r\n\r\n  this.setState({\r\n    ...this.state,\r\n    activeGame: id,\r\n    gameTitle: gameOn.title\r\n  })\r\n}\r\n\r\ncloseGame = () => {\r\n  this.setState({\r\n    activeGame: false\r\n  })\r\n}\r\n  render() {\r\n    const { classes } = this.props;\r\n    let user = this.context;\r\n\r\n    if(this.state.activeGame == false){\r\n    return (\r\n      <React.Fragment>\r\n        <CssBaseline />\r\n      <Container>\r\n        <div>\r\n      {\r\n         this.state.games.map((game) => {\r\n          return <Box boxShadow={3} className={classes.boox}><Button onClick={() => this.handleOpen(game.id)}>{game.title}</Button>\r\n          <Button className={classes.playButton} type=\"button\" variant=\"outlined\" onClick={() => this.playGame(game.id)}>Play Game</Button>\r\n          <Button className={classes.playButton} type=\"button\" variant=\"outlined\" onClick={() => this.openHighscore(game.id)}>Highscore</Button>  \r\n          {user && <Button className={classes.button} type=\"button\" onClick={() => this.deleteGame(game.id)}><DeleteIcon /></Button>}\r\n          </Box>\r\n        })\r\n      }\r\n\r\n      </div>\r\n      {user && <div className={classes.div}>\r\n     \r\n    <Button className={classes.createNewGame} type=\"button\" href=\"/create\">Create New Game</Button>\r\n    </div>}\r\n\r\n    {this.state.questions && \r\n    <GameDetailPage handleClose={this.handleClose} gameTitle={this.state.gameTitle} dialogOpen={this.state.dialogOpen} questions={this.state.questions} />}\r\n    {this.state.highscores && \r\n    <ScoreBoardPage gameTitle={this.state.gameTitle} highscores={this.state.highscores} openHighscore={this.state.openHighscore} handleClose={this.handleClose} />}\r\n      </Container>\r\n      </React.Fragment>\r\n    );\r\n   \r\n  }\r\n  else{\r\n     return <GamePage question={this.state.questions} gameTitle={this.state.gameTitle} closeGame={this.closeGame} gameId={this.state.activeGame}/>\r\n\r\n  }\r\n  }\r\n}\r\n\r\n//const condition = authUser => !!authUser;\r\n\r\nexport default withStyles(styles)(withFirebase(DashboardPage));\r\n\r\n\r\n\r\n/*const condition = authUser => !!authUser;\r\n\r\nexport default withStyles(styles)(withAuthorization(condition)(withFirebase(DashboardPage)));*/","import React, { Component } from 'react';\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n})\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state;\r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { passwordOne, passwordTwo, error } = this.state;\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n    return (\r\n      <form className={classes.root} onSubmit={this.onSubmit}>\r\n        <TextField\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n        />\r\n        <TextField\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm New Password\"\r\n        />\r\n        <Button variant=\"outlined\" disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </Button>\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(withFirebase(PasswordChangeForm));","import React from 'react';\r\n\r\nimport { PasswordForgetForm } from '../PasswordForgetForm/PasswordForgetForm';\r\nimport PasswordChangeForm from '../PasswordChangeForm/PasswordChangeForm';\r\nimport { AuthUserContext, withAuthorization } from '../../services/Session';\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport Container from '@material-ui/core/Container';\r\nimport Box from '@material-ui/core/Box';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  boox: {\r\n    background: theme.palette.background.paper,\r\n    borderRadius: '10px',\r\n    padding: '1.5em',\r\n    margin: theme.spacing(4),\r\n    boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;'\r\n  },\r\n}))\r\n\r\n\r\nconst AccountPage = function({ firebase }){\r\n  const classes = useStyles(); \r\n\r\n  return(  \r\n  <Container>\r\n    <Box boxShadow={3} className={classes.boox}>\r\n  <AuthUserContext.Consumer>\r\n    \r\n    {authUser => (\r\n      <div>\r\n        <h1>Account: {authUser.email}</h1>\r\n        <PasswordForgetForm />\r\n        <PasswordChangeForm />\r\n  \r\n      </div>\r\n    )}\r\n  </AuthUserContext.Consumer>\r\n  </Box>\r\n  </Container>)\r\n\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(withFirebase(AccountPage));","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../services/Session';\r\nimport { TextField, MenuItem } from '@material-ui/core';\r\n\r\n\r\nconst optionAnswers = [\r\n    {\r\n      value: 'optionA',\r\n      label: 'Option A',\r\n    },\r\n    {\r\n      value: 'optionB',\r\n      label: 'Option B',\r\n    },\r\n    {\r\n      value: 'optionC',\r\n      label: 'Option C',\r\n    },\r\n  ];\r\n\r\nclass QuizElement extends Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n  <TextField  id=\"question\" label=\"Question\" onChange={(e) => {this.props.questionChange(e, this.props.questionIndex)}} value={this.props.question}/>\r\n  <TextField  id=\"optionA\" label=\"Option A\" value={this.props.options.optionA} onChange={(e) => this.props.optionChange(e, this.props.questionIndex)}/>\r\n  <TextField  id=\"optionB\" label=\"Option B\" value={this.props.options.optionB} onChange={(e) => this.props.optionChange(e, this.props.questionIndex)}/>\r\n  <TextField  id=\"optionC\" label=\"Option C\" value={this.props.options.optionC} onChange={(e) => this.props.optionChange(e, this.props.questionIndex)}/>\r\n  <div>\r\n        <TextField\r\n          required \r\n          id=\"anwser\"\r\n          select\r\n          label=\"Select\"\r\n          value={this.props.answer}\r\n          onChange={(e) => this.props.answerChange(e, this.props.questionIndex)}\r\n          helperText=\"Please select your answer\"\r\n        >\r\n            {optionAnswers.map((optionAnswer) => (\r\n            <MenuItem key={optionAnswer.value} value={optionAnswer.value}>\r\n              {optionAnswer.label}\r\n            </MenuItem>\r\n          ))}\r\n     \r\n        </TextField>\r\n      </div>\r\n  </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default (withAuthorization(condition)(withFirebase(QuizElement)));","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../services/Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../services/Session';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport { Button, CssBaseline, TextField, Box } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport QuizElement from './QuizElement';\r\n\r\n\r\n  const styles = theme => ({\r\n    root: {\r\n        '& > *': {\r\n          margin: theme.spacing(1),\r\n          width: '25ch',\r\n          float: 'center'\r\n        },        \r\n      },\r\n        boox: {\r\n  \r\n          background: theme.palette.background.paper,\r\n          borderRadius: '10px',\r\n          padding: '1.5em',\r\n          margin: theme.spacing(3),\r\n          boxShadow: 'rgba(240, 46, 170, 0.4) 5px 5px, rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px, rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;'\r\n\r\n      },\r\n      button: {\r\n        float: 'right'\r\n      }\r\n  });\r\n\r\n  const INITIAL_STATE = {\r\n    title: '',\r\n    questions: [{\r\n        question: '',\r\n        options: {\r\n            optionA: '',\r\n            optionB: '',\r\n            optionC: ''\r\n        },\r\n        answer: ''\r\n    }]\r\n  };\r\n\r\nclass CreateGamePage extends Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {...INITIAL_STATE };\r\n  }\r\n\r\n  onQuestionChange = (e, questionIndex) => {\r\n      \r\n    let newQuestions = this.state.questions;\r\n    newQuestions[questionIndex].question = e.target.value;\r\n    this.setState({\r\n        ...this.state,\r\n        questions: newQuestions \r\n    })\r\n  }\r\n\r\n  onAnswerChange = (e, questionIndex) => {\r\n    let newQuestions = this.state.questions;\r\n    newQuestions[questionIndex].answer = e.target.value;\r\n    this.setState({\r\n        ...this.state,\r\n        questions: newQuestions \r\n    })\r\n  }\r\n\r\n  onOptionChange = (e, questionIndex) => {\r\n      let newQuestions = this.state.questions;\r\n      newQuestions[questionIndex].options[e.target.id] = e.target.value;\r\n      this.setState({\r\n        questions: newQuestions\r\n      })\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      title: e.target.value\r\n    })\r\n}\r\n\r\n\r\n  addDataa = () => {\r\n    const data = {\r\n      title: this.state.title,\r\n      questions: this.state.questions,\r\n    }\r\n    let id = this.props.firebase.addData(data);\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  addQuestion = () => {\r\n      const quest = {\r\n        question: '',\r\n        options: {\r\n            optionA: '',\r\n            optionB: '',\r\n            optionC: ''\r\n        },\r\n        answer: ''\r\n    }\r\n\r\n    let newQuestions = this.state.questions;\r\n    newQuestions.push(quest);\r\n    this.setState({\r\n        questions: newQuestions\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n          <CssBaseline />\r\n        <Container component=\"main\" maxWidth=\"s\">\r\n          <CssBaseline />\r\n          <Box boxShadow={3} className={classes.boox}\r\n          >\r\n          <form className={classes.root} noValidate autoComplete=\"off\">\r\n          <TextField id=\"title\" label=\"Game Title\" onChange={this.handleChange}/>\r\n          {this.state.questions.map((question, index) => {\r\n            return <QuizElement questionIndex={index} question={question.question} questionChange={this.onQuestionChange} options={question.options} optionChange={this.onOptionChange} answer={question.answer} answerChange={this.onAnswerChange}/>\r\n          })}\r\n        \r\n        <Typography variant=\"h2\" color=\"inherit\" noWrap>\r\n         <Button className={classes.button} type=\"button\" onClick={this.addQuestion}>Add Question</Button>\r\n          <Button className={classes.button} type=\"button\" onClick={this.addDataa}>Save</Button>\r\n       </Typography>\r\n        </form>\r\n        </Box>\r\n        </Container>\r\n      </React.Fragment>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withStyles(styles)(withAuthorization(condition)(withFirebase(CreateGamePage)));","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Navigation from './components/Navigation/Navigation';\r\nimport SignUpPage from './components/SignUpPage/SignUpPage';\r\nimport SignInPage from './components/SignInPage/SignInPage';\r\nimport PasswordForgetForm from './components/PasswordForgetForm/PasswordForgetForm';\r\nimport DashboardPage from './components/DashboardPage/DashboardPage';\r\nimport AccountPage from './components/AccountPage/AccountPage';\r\n\r\nimport { withAuthentication } from './services/Session';\r\n\r\nimport './App.css';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport CreateGamePage from './components/CreateGamePage/CreateGamePage';\r\nimport Pacman from './components/GamePage/Pacman'\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#1a1b41'\r\n    },\r\n    secondary: {\r\n      main: '#BAFF29'\r\n    }\r\n  },\r\n});\r\n\r\nconst App = () => (\r\n  <ThemeProvider theme={theme}>\r\n  <React.Fragment>\r\n    <CssBaseline />\r\n    <Router>\r\n      <div>\r\n        <Navigation />\r\n        <Route exact path={\"/\"} component={DashboardPage} />\r\n        <Route path={\"/signup\"} component={SignUpPage} />\r\n        <Route path={\"/signin\"} component={SignInPage} />\r\n        <Route path={\"/pwforget\"} component={PasswordForgetForm} />\r\n        <Route path={\"/create\"} component={CreateGamePage} />\r\n        <Route path={\"/account\"} component={AccountPage} />\r\n        <Route path={\"/play\"} component={Pacman} />\r\n      </div>\r\n    </Router>\r\n  </React.Fragment>\r\n  </ThemeProvider>\r\n);\r\n\r\nexport default withAuthentication(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport Firebase, { FirebaseContext } from './services/Firebase';\r\n\r\nReactDOM.render(\r\n    <FirebaseContext.Provider value={new Firebase()}>\r\n        <App />\r\n    </FirebaseContext.Provider>, \r\n        \r\n    document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}